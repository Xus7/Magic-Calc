<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>Calculadora Mágica</title>

    <link rel="stylesheet" id="css-link" href="style.css"> 
    <script src="script.js" id="js-script" defer></script> 
    
    <script>
        function getTimestamp() {
            const now = new Date();
            const year = now.getFullYear().toString();
            const month = (now.getMonth() + 1).toString().padStart(2, '0');
            const day = now.getDate().toString().padStart(2, '0');
            const hour = now.getHours().toString().padStart(2, '0');
            const minute = now.getMinutes().toString().padStart(2, '0');
            const second = now.getSeconds().toString().padStart(2, '0');
        
            return `${year}${month}${day}${hour}${minute}${second}`;
        }

        const version = getTimestamp();

        // 1. Modificar el CSS
        const cssLink = document.getElementById('css-link');
        if (cssLink) {
            cssLink.href = cssLink.href + '?v=' + version;
        }

        // 2. Modificar el JS
        const jsScript = document.getElementById('js-script');
        if (jsScript) {
            jsScript.src = jsScript.src + '?v=' + version;
        }
    </script>
    
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon" href="icon-192.png"> <link rel="manifest" href="manifest.json">
</head>
<body>
    <div class="calculator">
        <div class="top-bar">
            <button class="magic-button" id="magic-menu-button">
                <svg viewBox="0 0 24 24" fill="currentColor" width="24" height="24"><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>
            </button>
            <button class="top-right-button"></button> <button class="top-right-button"></button> </div>
        <div class="display">
            <div id="expression"></div>
            <div id="result">0</div>
        </div>

        <div class="keypad">
            <button class="btn fn-btn delete" data-action="delete">
                <svg viewBox="0 0 24 24"
                     width="40" height="40"
                     fill="none" stroke="currentColor"
                     stroke-width="1.7" stroke-linecap="round" stroke-linejoin="round">

                    <!-- Desplazo todo un poco a la izquierda -->
                    <g transform="translate(-0.7,0)">
                        <!-- Contorno de la tecla -->
                        <path d="M7.5 4H21c1.3 0 2.5 1.2 2.5 2.5v11c0 1.3-1.2 2.5-2.5 2.5H7.5L2 12l5.5-8z"/>

                        <!-- X más grande y un poco más baja -->
                        <path d="M12.5 10.2L16.1 13.8M16.1 10.2L12.5 13.8"/>
                    </g>
                </svg>
            </button>
            <button class="btn fn-btn clear" data-action="clear">AC</button>
            <button class="btn fn-btn" data-action="percent">%</button>
            <button class="btn op-btn" data-operator="divide">÷</button>

            <button class="btn num-btn" data-value="7">7</button>
            <button class="btn num-btn" data-value="8">8</button>
            <button class="btn num-btn" data-value="9">9</button>
            <button class="btn op-btn" data-operator="multiply">×</button>

            <button class="btn num-btn" data-value="4">4</button>
            <button class="btn num-btn" data-value="5">5</button>
            <button class="btn num-btn" data-value="6">6</button>
            <button class="btn op-btn" data-operator="subtract">-</button>

            <button class="btn num-btn" data-value="1">1</button>
            <button class="btn num-btn" data-value="2">2</button>
            <button class="btn num-btn" data-value="3">3</button>
            <button class="btn op-btn" data-operator="add">+</button>

            <button class="btn fn-btn sign" data-action="sign">±</button>
            <button class="btn num-btn" data-value="0">0</button>
            <button class="btn num-btn dot" data-value=".">,</button>
            <button class="btn eq-btn" data-action="calculate">=</button>
        </div>
    </div>
</body>

</html>


